import ThemedImage from "@theme/ThemedImage";
import useBaseUrl from "@docusaurus/useBaseUrl";
import ZoomableImage from "/src/theme/ZoomableImage.js";
import Admonition from "@theme/Admonition";

# Chains

Chains, in the context of language models, refer to a series of calls made to a language model. It allows for the output of one call to be used as the input for another call. Different types of chains allow for different levels of complexity. Chains are useful for creating pipelines and executing specific scenarios.
<Admonition type="info" title="Info">
    <p>
        For more information, refer to the documentation of the [documentation](https://python.langchain.com/docs/modules/chains/).
    </p>
</Admonition>

### Conversation Chain

The `ConversationChain` is a straightforward chain for interactive conversations with a language model, making it ideal for chatbots or virtual assistants. It allows for dynamic conversations, question-answering, and complex dialogues.

**Params**

- **Prompt:** The prompt for the conversation chain. (Type: str)
- **LLM:** The language model to use. (Type: BaseLanguageModel)
- **Memory:** Memory to load context from. If none is provided, a ConversationBufferMemory will be used. (Type: Optional[BaseMemory])
- **Input Value:** The input value to pass to the chain. (Type: Text)

---

### LLM Chain

Chain to run queries against LLMs.

**Params**

- **Prompt:** The prompt template for the chain. (Type: BasePromptTemplate)
- **LLM:** The language model to use. (Type: BaseLanguageModel)
- **Memory:** Memory to use for the chain. (Type: Optional[BaseMemory])

---

### LLM Checker Chain

Chain to check the language model (LLM) for validity.

**Params**

- **LLM:** The language model to check. (Type: BaseLanguageModel)
- **Input Value:** The input value to pass to the chain. (Type: Text)

---

### LLM Math Chain

Chain that interprets a prompt and executes Python code to perform mathematical operations.

**Params**

- **LLM:** The primary language model used for execution. (Type: BaseLanguageModel)
- **LLM Chain:** The language model chain for executing intermediate steps. (Type: LLMChain)
- **Memory:** Memory to use for the chain. (Type: BaseMemory, Optional)
- **Input Key:** The key in the input dictionary corresponding to the input value. (Type: str, Default: "question")
- **Output Key:** The key in the output dictionary corresponding to the output value. (Type: str, Default: "answer")
- **Input Value:** The input value to pass to the chain. (Type: Text)

---

### Natural Language to SQL

Generate SQL queries from natural language prompts.

**Params**

- **Database:** The SQL database to generate queries against. (Type: SQLDatabase)
- **LLM:** The primary language model used for generating SQL queries. (Type: BaseLanguageModel)
- **Prompt:** The prompt containing the natural language query. Must include `{question}`. (Type: Text, Optional)
- **Top K:** The number of results per select statement to return. If 0, no limit. (Type: int, Default: 5)
- **Input Value:** The input value containing the natural language query. (Type: Text)

---

### Retrieval QA

Perform question-answering against an index using a retrieval-based QA system.

**Params**

- **LLM:** The primary language model used for answering questions. (Type: BaseLanguageModel)
- **Chain Type:** The type of chain to use for question-answering. (Type: str, Options: ["Stuff", "Map Reduce", "Refine", "Map Rerank"])
- **Retriever:** The retriever to use for retrieving relevant documents. (Type: BaseRetriever)
- **Memory:** Memory to use for the QA system. (Type: BaseMemory, Optional)
- **Input Key:** The key for the input question/query. (Type: str, Default: "query", Advanced)
- **Output Key:** The key for the output/result. (Type: str, Default: "result", Advanced)
- **Return Source Documents:** Whether to return source documents along with the answer. (Type: bool)
- **Input:** The input question/query. (Type: Text)

---

### Retrieval QA With Sources Chain

Perform question-answering with sources over an index using a retrieval-based QA system.

**Params**

- **LLM:** The primary language model used for answering questions. (Type: BaseLanguageModel)
- **Chain Type:** The type of chain to use for combining documents. (Type: str, Options: ["Stuff", "Map Reduce", "Refine", "Map Rerank"])
- **Memory:** Memory to use for the QA system. (Type: BaseMemory)
- **Return Source Documents:** Whether to return source documents along with the answer. (Type: bool, Default: True)
- **Retriever:** The retriever to use for retrieving relevant documents. (Type: BaseRetriever)
- **Input Value:** The input value to pass to the chain. (Type: Text)
