"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2543],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=n.createContext({}),s=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},c=function(e){var t=s(e.components);return n.createElement(i.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(r),d=a,f=u["".concat(i,".").concat(d)]||u[d]||m[d]||o;return r?n.createElement(f,l(l({ref:t},c),{},{components:r})):n.createElement(f,l({ref:t},c))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=d;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p[u]="string"==typeof e?e:a,l[1]=p;for(var s=2;s<o;s++)l[s]=r[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},2041:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var n=r(7462),a=(r(7294),r(3905));const o={},l="Multiple Vectorstores",p={unversionedId:"multiple-vectorstores",id:"multiple-vectorstores",title:"Multiple Vectorstores",description:"A vector store is a specialized database designed for the efficient storage of documents and their embeddings. It enables the retrieval of the most relevant documents for a given query by comparing the similarity of their embeddings to the query's embedding.",source:"@site/docs/multiple-vectorstores.md",sourceDirName:".",slug:"/multiple-vectorstores",permalink:"/multiple-vectorstores",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Serp API Tool",permalink:"/serp-api-tool"},next:{title:"Python Function",permalink:"/python-function"}},i={},s=[{value:"\u26d3\ufe0fLangFlow example",id:"\ufe0flangflow-example",level:3}],c={toc:s},u="wrapper";function m(e){let{components:t,...o}=e;return(0,a.kt)(u,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"multiple-vectorstores"},"Multiple Vectorstores"),(0,a.kt)("p",null,"A vector store is a specialized database designed for the efficient storage of documents and their embeddings. It enables the retrieval of the most relevant documents for a given query by comparing the similarity of their embeddings to the query's embedding."),(0,a.kt)("p",null,"We can utilize the vector store to initialize an agent with multiple vector stores and leverage the agent for routing between them effortlessly."),(0,a.kt)("p",null,"Learn more about Multiple Vectorstores ",(0,a.kt)("a",{parentName:"p",href:"https://python.langchain.com/en/latest/modules/agents/toolkits/examples/vectorstore.html?highlight=Multiple%20Vector%20Stores#multiple-vectorstores"},"here"),"."),(0,a.kt)("h3",{id:"\ufe0flangflow-example"},"\u26d3\ufe0fLangFlow example"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Multiple Vectorstores",src:r(1353).Z,width:"1844",height:"946"})),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"TextLoader")," loads text from a file. Get the file used ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/hwchase17/chat-your-data/blob/master/state_of_the_union.txt"},"here")),(0,a.kt)("p",null,"By using ",(0,a.kt)("inlineCode",{parentName:"p"},"WebBaseLoader"),", you can load all text from webpages into a document format that we can use downstream. Web path used:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"https://pt.wikipedia.org/wiki/Harry_Potter\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"CharacterTextSplitter")," implements splitting text based on characters."),(0,a.kt)("p",null,"Text splitters operate as follows:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Split the text into small, meaningful chunks (usually sentences).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Combine these small chunks into larger ones until they reach a certain size (measured by a function).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Once a chunk reaches the desired size, make it its piece of text and create a new chunk with some overlap to maintain context."))),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Separator"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},".\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Chunk size"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"4000\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Chunk overlap"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"200\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"OpenAIEmbeddings"),", wrapper around ",(0,a.kt)("a",{parentName:"p",href:"https://platform.openai.com/docs/guides/embeddings/what-are-embeddings"},"OpenAI Embeddings")," models. Make sure to get the API key from the LLM provider, in this case ",(0,a.kt)("a",{parentName:"p",href:"https://platform.openai.com/"},"OpenAI"),"."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Chroma")," vector databases can be used as vector stores to conduct a semantic search or to select examples, thanks to a wrapper around them."),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"VectorStoreInfo")," set information about the vector store, such as the name and description."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"First VectorStoreInfo")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Name"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"State of the union.\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Description"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"State of the union text.\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Second VectorStoreInfo")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Name"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"Harry Potter Wikipedia.\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Description"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-txt"},"Wikipedia about Harry Potter.\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"VectorStoreRouterAgent")," construct an agent that routes between multiple vectorstores."))}m.isMDXComponent=!0},1353:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/multiple-vectorstores-59177f66a207d20aa0add5b4f9f189b1.png"}}]);